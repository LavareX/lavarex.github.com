<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>è¯‘ Image Resizing Techniques | Lavare</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">è¯‘ Image Resizing Techniques</h1><a id="logo" href="/.">Lavare</a><p class="description">Review myself</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a><a href="/atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">è¯‘ Image Resizing Techniques</h1><div class="post-meta">Dec 4, 2017</div><a data-disqus-identifier="2017/12/04/Image-Resizing-Techniques/" href="/2017/12/04/Image-Resizing-Techniques/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><blockquote>
<p>åŸæ–‡ï¼š<a href="http://nshipster.com/image-resizing/">Image Resizing Techniques</a><br>ä½œè€…ï¼š<a href="http://nshipster.com/authors/mattt-thompson/">Mattt Thompson</a></p>
</blockquote>
<p>å¤å¾€ä»Šæ¥ï¼ŒiOS å¼€å‘è€…è¢«ä¸€ä¸ªç®€å•çš„é—®é¢˜æ‰€å›°æƒ‘ï¼šâ€œå¦‚ä½•è°ƒæ•´å›¾åƒå¤§å°ï¼Ÿâ€ã€‚ç”±äºå¼€å‘è€…å’Œå¹³å°ä¹‹é—´ç›¸äº’ä¸ä¿¡ä»»ï¼Œå¯¼è‡´è¿™ä¸ªé—®é¢˜ä»¤äººè´¹è§£ã€‚ç½‘é¡µæœç´¢ç»“æœä¸­æœ‰è®¸è®¸å¤šå¤šçš„ä»£ç ç¤ºä¾‹ï¼Œéƒ½å£°ç§°æ˜¯æ­£ç¡®çš„æ–¹æ¡ˆï¼Œå…¶ä»–çš„éƒ½æ˜¯é”™è¯¯çš„ã€‚</p>
<p>è¿™çœŸçš„å¥½å°´å°¬ ğŸ˜‚ã€‚</p>
<p>æœ¬å‘¨æ–‡ç« é€šè¿‡å¯¹æ¯ä¸ªåœ¨ iOS ï¼ˆå’Œ MacOSï¼ŒUIImage -&gt; NSImage è¿›è¡Œåˆé€‚çš„è½¬æ¢ï¼‰ä¸Šçš„å›¾åƒå¤§å°è°ƒæ•´æ–¹æ³•è¿›è¡Œå®éªŒè¯æ˜æä¾›æ€§èƒ½ç‰¹ç‚¹ï¼Œå°½åŠ›å¯¹æ¯ä¸ªæ–¹æ³•æä¾›æ¸…æ™°çš„è§£é‡Šï¼Œè€Œä¸æ˜¯ç®€å•çš„ç”¨ä¸€ä¸ªæ–¹æ³•åº”ç”¨æ‰€æœ‰åœºæ™¯ã€‚</p>
<p><strong>åœ¨è¿›ä¸€æ­¥é˜…è¯»ä¹‹å‰ï¼Œè¯·æ³¨æ„ä»¥ä¸‹äº‹é¡¹:</strong></p>
<p>å½“åœ¨ <code>UIImageView</code> ä¸­è®¾ç½® <code>UIImage</code> æ—¶ï¼Œåœ¨å¤§å¤šæ•°ä½¿ç”¨åœºæ™¯ä¸­ä¸å¿…æ‰‹åŠ¨è°ƒæ•´å›¾åƒå¤§å°ã€‚å¯ä»¥ç®€å•åœ°è®¾ç½® <code>contentMode</code> å±æ€§ä¸º <code>.scaleAspectFit</code> ç¡®ä¿æ•´å¼ å›¾åƒæ˜¾ç¤ºåœ¨ <code>image view</code> çš„ <code>frame</code> ä¸­ï¼Œæˆ–è€…è®¾ç½®ä¸º <code>.scaleAspectFill</code> è®©æ•´å¼ å›¾åƒé€šè¿‡ä¸­é—´è£å‰ªæ¥å¡«å……æ•´ä¸ª <code>image view</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">imageView.contentMode = .scaleAspectFit</span><br><span class="line">imageView.image = image</span><br></pre></td></tr></table></figure>
<h2 id="ç¡®å®šç¼©æ”¾å¤§å°"><a href="#ç¡®å®šç¼©æ”¾å¤§å°" class="headerlink" title="ç¡®å®šç¼©æ”¾å¤§å°"></a>ç¡®å®šç¼©æ”¾å¤§å°</h2><p>åœ¨åšä»»ä½•å›¾åƒå¤§å°è°ƒæ•´æ—¶ï¼Œé¦–å…ˆå¿…é¡»ç¡®å®šç¼©æ”¾çš„ç›®æ ‡å¤§å°ã€‚</p>
<h3 id="æŒ‰ç³»æ•°ç¼©æ”¾"><a href="#æŒ‰ç³»æ•°ç¼©æ”¾" class="headerlink" title="æŒ‰ç³»æ•°ç¼©æ”¾"></a>æŒ‰ç³»æ•°ç¼©æ”¾</h3><p>é€šè¿‡å¸¸é‡å› å­è¿›è¡Œå›¾åƒç¼©æ”¾æ˜¯æœ€ç®€å•çš„æ–¹å¼ã€‚é€šå¸¸æ¥è¯´ï¼Œè¿™æ¶‰åŠåˆ°é™¤ä»¥æ•´æ•°ä»¥è‡³äºå‡å°‘åŸæ¥çš„å¤§å°ï¼ˆè€Œä¸æ˜¯ä¹˜ä»¥æ•´æ•°ä»¥è‡³äºæ”¾å¤§åŸæ¥çš„å¤§å°ï¼‰ã€‚</p>
<p>æ–°çš„ <code>CGSize</code> èƒ½å¤Ÿé€šè¿‡å•ç‹¬ç¼©æ”¾å®½åº¦å’Œé«˜åº¦è®¡ç®—å¾—åˆ°ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> size = <span class="type">CGSize</span>(width: image.size.width / <span class="number">2</span>, height: image.size.height / <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p>â€¦æˆ–è€…åº”ç”¨ä¸€ä¸ª <code>CGAffineTransform</code>:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> size = <span class="type">CGSizeApplyAffineTransform</span>(image.size, <span class="type">CGAffineTransformMakeScale</span>(<span class="number">0.5</span>, <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<h3 id="æŒ‰é•¿å®½æ¯”ç¼©æ”¾"><a href="#æŒ‰é•¿å®½æ¯”ç¼©æ”¾" class="headerlink" title="æŒ‰é•¿å®½æ¯”ç¼©æ”¾"></a>æŒ‰é•¿å®½æ¯”ç¼©æ”¾</h3><p>åœ¨ä¸æ”¹å˜åŸæ¥çš„é•¿å®½æ¯”çš„æƒ…å†µä¸‹ç¼©æ”¾åŸæ¥çš„å¤§å°ä»¥é€‚åˆçŸ©å½¢æ—¶éå¸¸æœ‰ç”¨ã€‚<code>AVFoundation</code> æ¡†æ¶ä¸­çš„ <code>AVMakeRectWithAspectRatioInsideRect</code> æ˜¯ä¸ªæœ‰ç”¨çš„å‡½æ•°å¯ä»¥å¸®åŠ©ä½ è®¡ç®—ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> AVFoundation</span><br><span class="line"><span class="keyword">let</span> rect = <span class="type">AVMakeRectWithAspectRatioInsideRect</span>(image.size, imageView.bounds)</span><br></pre></td></tr></table></figure>
<h2 id="å›¾åƒå¤§å°è°ƒæ•´"><a href="#å›¾åƒå¤§å°è°ƒæ•´" class="headerlink" title="å›¾åƒå¤§å°è°ƒæ•´"></a>å›¾åƒå¤§å°è°ƒæ•´</h2><p>è¿™é‡Œæœ‰ä¸€ç³»åˆ—ä¸åŒçš„æ–¹æ³•å»è°ƒæ•´å›¾åƒå¤§å°ï¼Œæ¯ä¸ªéƒ½æœ‰ä¸åŒèƒ½åŠ›å’Œæ€§èƒ½ç‰¹ç‚¹ã€‚</p>
<h3 id="UIGraphicsBeginImageContextWithOptions-amp-UIImage-drawInRect"><a href="#UIGraphicsBeginImageContextWithOptions-amp-UIImage-drawInRect" class="headerlink" title="UIGraphicsBeginImageContextWithOptions &amp; UIImage -drawInRect:"></a>UIGraphicsBeginImageContextWithOptions &amp; UIImage -drawInRect:</h3><p>å›¾åƒå¤§å°è°ƒæ•´çš„æœ€é«˜çº§ API èƒ½å¤Ÿåœ¨ <code>UIKit</code> æ¡†æ¶ä¸­æ‰¾åˆ°ã€‚ç»™å®š <code>UIImage</code>ï¼Œé€šè¿‡ <code>UIGraphicsBeginImageContextWithOptions()</code> å’Œ <code>UIGraphicsGetImageFromCurrentImageContext()</code>ï¼Œä¸´æ—¶å›¾å½¢ä¸Šä¸‹æ–‡èƒ½å¤Ÿç”¨æ¥æ¸²æŸ“æˆç¼©æ”¾ç‰ˆæœ¬çš„å›¾åƒï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> image = <span class="type">UIImage</span>(contentsOfFile: <span class="keyword">self</span>.<span class="type">URL</span>.absoluteString!)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> size = <span class="type">CGSizeApplyAffineTransform</span>(image.size, <span class="type">CGAffineTransformMakeScale</span>(<span class="number">0.5</span>, <span class="number">0.5</span>))</span><br><span class="line"><span class="keyword">let</span> hasAlpha = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> scale: <span class="type">CGFloat</span> = <span class="number">0.0</span> <span class="comment">// Automatically use scale factor of main screen</span></span><br><span class="line"></span><br><span class="line"><span class="type">UIGraphicsBeginImageContextWithOptions</span>(size, !hasAlpha, scale)</span><br><span class="line">image.drawInRect(<span class="type">CGRect</span>(origin: <span class="type">CGPointZero</span>, size: size))</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> scaledImage = <span class="type">UIGraphicsGetImageFromCurrentImageContext</span>()</span><br><span class="line"><span class="type">UIGraphicsEndImageContext</span>()</span><br></pre></td></tr></table></figure>
<p><code>UIGraphicsBeginImageContextWithOptions()</code> åˆ›å»ºåŸå§‹ç»˜åˆ¶çš„ä¸´æ—¶æ¸²æŸ“ä¸Šä¸‹æ–‡ã€‚ç¬¬ä¸€ä¸ªå…¥å‚ <code>size</code> æ˜¯ç¼©æ”¾åçš„å›¾åƒå¤§å°ã€‚ç¬¬äºŒä¸ªå…¥å‚ <code>isOpaque</code> æ˜¯ç”¨æ¥ç¡®å®šæ˜¯å¦éœ€è¦æ¸²æŸ“ alpha é€šé“ã€‚å¯¹äºä¸é€æ˜ï¼ˆå³ alpha é€šé“ï¼‰çš„å›¾åƒï¼Œå°†å…¶è®¾ç½®ä¸º <code>false</code> å¯èƒ½ä¼šå¯¼è‡´ç²‰çº¢è‰²çš„å›¾åƒã€‚ç¬¬ä¸‰ä¸ªå…¥å‚ <code>scale</code> æ˜¯æ˜¾ç¤ºç¼©æ”¾ç³»æ•°ã€‚å½“è®¾ç½®ä¸º 0.0 æ—¶ï¼Œå°†ä½¿ç”¨ <code>main screen</code> çš„ç¼©æ”¾ç³»æ•°ï¼Œå¯¹äº Retina æ˜¾ç¤ºå±ï¼Œå…¶ç¼©æ”¾ç³»æ•°ä¸º 2.0 æˆ–æ›´é«˜ï¼ˆiPhone 6 Plus ä¸º 3.0ï¼‰ã€‚</p>
<h3 id="CGBitmapContextCreate-amp-CGContextDrawImage"><a href="#CGBitmapContextCreate-amp-CGContextDrawImage" class="headerlink" title="CGBitmapContextCreate &amp; CGContextDrawImage"></a>CGBitmapContextCreate &amp; CGContextDrawImage</h3><p>Core Graphics / Quartz 2D æä¾›äº†ä¸€å¥—è¾ƒä½çº§çš„ APIï¼Œå…è®¸è¿›è¡Œæ›´é«˜çº§çš„é…ç½®ã€‚ç»™å®š <code>CGImage</code>ï¼Œé€šè¿‡ <code>CGBitmapContextCreate()</code> å’Œ <code>CGBitmapContextCreateImage()</code>ï¼Œä¸´æ—¶ä½å›¾ä¸Šä¸‹æ–‡èƒ½å¤Ÿç”¨æ¥æ¸²æŸ“ç¼©æ”¾çš„å›¾åƒï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cgImage = <span class="type">UIImage</span>(contentsOfFile: <span class="keyword">self</span>.<span class="type">URL</span>.absoluteString!).<span class="type">CGImage</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> width = <span class="type">CGImageGetWidth</span>(cgImage) / <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> height = <span class="type">CGImageGetHeight</span>(cgImage) / <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> bitsPerComponent = <span class="type">CGImageGetBitsPerComponent</span>(cgImage)</span><br><span class="line"><span class="keyword">let</span> bytesPerRow = <span class="type">CGImageGetBytesPerRow</span>(cgImage)</span><br><span class="line"><span class="keyword">let</span> colorSpace = <span class="type">CGImageGetColorSpace</span>(cgImage)</span><br><span class="line"><span class="keyword">let</span> bitmapInfo = <span class="type">CGImageGetBitmapInfo</span>(cgImage)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> context = <span class="type">CGBitmapContextCreate</span>(<span class="literal">nil</span>, width, height, bitsPerComponent, bytesPerRow, colorSpace, bitmapInfo.rawValue)</span><br><span class="line"></span><br><span class="line"><span class="type">CGContextSetInterpolationQuality</span>(context, kCGInterpolationHigh)</span><br><span class="line"></span><br><span class="line"><span class="type">CGContextDrawImage</span>(context, <span class="type">CGRect</span>(origin: <span class="type">CGPointZero</span>, size: <span class="type">CGSize</span>(width: <span class="type">CGFloat</span>(width), height: <span class="type">CGFloat</span>(height))), cgImage)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> scaledImage = <span class="type">CGBitmapContextCreateImage</span>(context).flatMap &#123; <span class="type">UIImage</span>(<span class="type">CGImage</span>: $<span class="number">0</span>) &#125;</span><br></pre></td></tr></table></figure>
<p><code>CGBitmapContextCreate</code> éœ€è¦å‡ ä¸ªå‚æ•°æ„å»ºå…·æœ‰æ‰€éœ€çš„å°ºå¯¸å’Œç»™å®šçš„é¢œè‰²ç©ºé—´ä¸­æ¯ä¸ªé€šé“çš„å†…å­˜é‡çš„ä¸Šä¸‹æ–‡ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™äº›å€¼éƒ½æ˜¯ä» <code>CGImage</code> ä¸­è·å–çš„ã€‚æ¥ä¸‹æ¥ï¼Œ<code>CGContextSetInterpolationQuality</code> å…è®¸ä¸Šä¸‹æ–‡ä»¥å„ç§ä¿çœŸåº¦æ°´å¹³å†…æ’åƒç´ ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¼ é€’ <code>kCGInterpolationHigh</code> ä»¥è·å¾—æœ€ä½³ç»“æœã€‚<code>CGContextDrawImage</code> å…è®¸å›¾åƒä»¥ç»™å®šçš„å¤§å°å’Œä½ç½®ç»˜åˆ¶ï¼Œå…è®¸å›¾åƒåœ¨ç‰¹å®šçš„è¾¹ä¸Šè¢«è£å‰ªæˆ–è€…é€‚åˆä¸€ç»„å›¾åƒç‰¹å¾ï¼Œä¾‹å¦‚é¢éƒ¨ã€‚æœ€åï¼Œ<code>CGBitmapContextCreateImage</code> ä»ä¸Šä¸‹æ–‡ä¸­åˆ›å»º <code>CGImage</code>ã€‚</p>
<h3 id="CGImageSourceCreateThumbnailAtIndex"><a href="#CGImageSourceCreateThumbnailAtIndex" class="headerlink" title="CGImageSourceCreateThumbnailAtIndex"></a>CGImageSourceCreateThumbnailAtIndex</h3><p>Image I/O æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä½†é²œä¸ºäººçŸ¥çš„ç”¨äºå¤„ç†å›¾åƒçš„æ¡†æ¶ã€‚ç‹¬ç«‹äº Core Graphicsï¼Œå®ƒèƒ½è¯»å†™å¾ˆå¤šä¸åŒçš„æ ¼å¼ï¼Œè®¿é—®ç…§ç‰‡çš„å…ƒæ•°æ®ï¼Œæ‰§è¡Œå¸¸è§çš„å›¾åƒå¤„ç†æ“ä½œã€‚è¯¥æ¡†æ¶æä¾›äº†å¹³å°ä¸Šæœ€å¿«çš„å›¾åƒç¼–ç å™¨å’Œè§£ç å™¨ï¼Œå…·æœ‰å…ˆè¿›çš„ç¼“å­˜æœºåˆ¶ï¼Œç”šè‡³å¯ä»¥å¢é‡åŠ è½½å›¾åƒã€‚</p>
<p><code>CGImageSourceCreateThumbnailAtIndex</code> æä¾›äº†ä¸€ä¸ªç®€æ´çš„APIï¼Œå…¶ä¸­åŒ…å«çš„é€‰é¡¹ä¸åœ¨ç­‰ä»·çš„ Core Graphics è°ƒç”¨ä¸­æ‰¾åˆ°çš„é€‰é¡¹ä¸åŒï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ImageIO</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> imageSource = <span class="type">CGImageSourceCreateWithURL</span>(<span class="keyword">self</span>.<span class="type">URL</span>, <span class="literal">nil</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> options: [<span class="type">NSString</span>: <span class="type">NSObject</span>] = [</span><br><span class="line">        kCGImageSourceThumbnailMaxPixelSize: <span class="built_in">max</span>(size.width, size.height) / <span class="number">2.0</span>,</span><br><span class="line">        kCGImageSourceCreateThumbnailFromImageAlways: <span class="literal">true</span></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> scaledImage = <span class="type">CGImageSourceCreateThumbnailAtIndex</span>(imageSource, <span class="number">0</span>, options).flatMap &#123; <span class="type">UIImage</span>(<span class="type">CGImage</span>: $<span class="number">0</span>) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»™å®šä¸€ä¸ª <code>CGImageSource</code> å’Œä¸€ç»„é€‰é¡¹ï¼Œ<code>CGImageSourceCreateThumbnailAtIndex</code> åˆ›å»ºäº†ä¸€ä¸ªç¼©ç•¥å›¾ã€‚é€šè¿‡ <code>kCGImageSourceThumbnailMaxPixelSize</code> å®Œæˆè°ƒæ•´å¤§å°ã€‚æŒ‡å®šæœ€å¤§å°ºå¯¸é™¤ä»¥å¸¸æ•°ç³»æ•°å¯ä»¥åœ¨ä¿æŒåŸå§‹é•¿å®½æ¯”çš„åŒæ—¶å¯¹å›¾åƒè¿›è¡Œç¼©æ”¾ã€‚é€šè¿‡æŒ‡å®š <code>kCGImageSourceCreateThumbnailFromImageIfAbsent</code> æˆ–è€… <code>kCGImageSourceCreateThumbnailFromImageAlways</code>ï¼ŒImage I/O å°†ä¼šè‡ªåŠ¨ç¼“å­˜ç¼©æ”¾ç»“æœç»™åç»­çš„è°ƒç”¨ã€‚</p>
<h3 id="Core-Image-çš„-Lanczos-é‡é‡‡æ ·"><a href="#Core-Image-çš„-Lanczos-é‡é‡‡æ ·" class="headerlink" title="Core Image çš„ Lanczos é‡é‡‡æ ·"></a>Core Image çš„ Lanczos é‡é‡‡æ ·</h3><p>Core Image é€šè¿‡ <code>CILanczosScaleTransform</code> è¿‡æ»¤å™¨æä¾›äº†ä¸€ä¸ªå†…ç½®çš„ <a href="https://en.wikipedia.org/wiki/Lanczos_resampling">Lanczos é‡é‡‡æ ·</a> åŠŸèƒ½ã€‚å°½ç®¡å¯ä»¥è¯´æ˜¯æ¯” UIKit æ›´é«˜çº§åˆ«çš„ APIï¼Œä½†åœ¨ Core Image ä¸­æ™®éä½¿ç”¨é”®å€¼ç¼–ç ï¼ˆKVOï¼‰ä½¿å…¶å˜å¾—ç¬¨æ‹™ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè‡³å°‘è¿™ç§æ¨¡å¼æ˜¯ä¸€è‡´çš„ã€‚åˆ›å»ºå˜æ¢è¿‡æ»¤å™¨ï¼Œé…ç½®å®ƒå¹¶æ¸²æŸ“æˆè¾“å‡ºå›¾åƒçš„è¿‡ç¨‹å°±åƒä»»ä½•å…¶ä»– Core Image å·¥ä½œæµç¨‹ä¸€æ ·ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> image = <span class="type">CIImage</span>(contentsOfURL: <span class="keyword">self</span>.<span class="type">URL</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">filter</span> = <span class="type">CIFilter</span>(name: <span class="string">"CILanczosScaleTransform"</span>)!</span><br><span class="line"><span class="built_in">filter</span>.setValue(image, forKey: <span class="string">"inputImage"</span>)</span><br><span class="line"><span class="built_in">filter</span>.setValue(<span class="number">0.5</span>, forKey: <span class="string">"inputScale"</span>)</span><br><span class="line"><span class="built_in">filter</span>.setValue(<span class="number">1.0</span>, forKey: <span class="string">"inputAspectRatio"</span>)</span><br><span class="line"><span class="keyword">let</span> outputImage = <span class="built_in">filter</span>.valueForKey(<span class="string">"outputImage"</span>) <span class="keyword">as</span>! <span class="type">CIImage</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> context = <span class="type">CIContext</span>(options: [kCIContextUseSoftwareRenderer: <span class="literal">false</span>])</span><br><span class="line"><span class="keyword">let</span> scaledImage = <span class="type">UIImage</span>(<span class="type">CGImage</span>: <span class="keyword">self</span>.context.createCGImage(outputImage, fromRect: outputImage.extent()))</span><br></pre></td></tr></table></figure>
<p><code>CILanczosScaleTransform</code> æ¥æ”¶ <code>inputImage</code>ï¼Œ<code>inputScale</code>ï¼Œå’Œ <code>inputAspectRatio</code>ï¼Œæ‰€æœ‰è¿™äº›éƒ½æ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚ç”±äº <code>UIImage(CIImage:)</code> å¹¶ä¸åƒé¢„æœŸçš„é‚£æ ·å·¥ä½œï¼Œå› æ­¤éœ€è¦ <code>CIContext</code> é€šè¿‡ <code>CGImageRef</code> ä¸­é—´è¡¨ç¤ºæ¥åˆ›å»º <code>UIImage</code>ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ª <code>CIContext</code> æ˜¯ä¸€ä¸ªæ˜‚è´µçš„æ“ä½œï¼Œå› æ­¤åº”è¯¥æ€»æ˜¯ä½¿ç”¨ç¼“å­˜çš„ä¸Šä¸‹æ–‡æ¥é‡å¤è°ƒæ•´å¤§å°ã€‚<code>CIContext</code> å¯ä»¥ä½¿ç”¨ GPU æˆ–è€… CPUï¼ˆæ…¢å¾—å¤šï¼‰æ¥åˆ›å»º <code>CIContext</code> è¿›è¡Œæ¸²æŸ“ - ä½¿ç”¨é€‰é¡¹å­—å…¸ä¸­çš„ <code>kCIContextUseSoftwareRenderer</code> é”®æ¥æŒ‡å®šå“ªä¸€ä¸ªã€‚</p>
<h3 id="Accelerate-ä¸­çš„-vImage"><a href="#Accelerate-ä¸­çš„-vImage" class="headerlink" title="Accelerate ä¸­çš„ vImage"></a>Accelerate ä¸­çš„ vImage</h3><p><a href="https://developer.apple.com/library/prerelease/ios/documentation/Accelerate/Reference/AccelerateFWRef/index.html#//apple_ref/doc/uid/TP40009465">Accelerate æ¡†æ¶</a> åŒ…å«ä¸€å¥— <code>vImage</code> å›¾åƒå¤„ç†åŠŸèƒ½ï¼Œå¹¶å…·æœ‰ä¸€ç»„ç¼©æ”¾å›¾åƒç¼“å†²åŒºçš„<a href="https://developer.apple.com/library/prerelease/ios/documentation/Performance/Reference/vImage_geometric/index.html#//apple_ref/doc/uid/TP40005490-CH212-145717">åŠŸèƒ½</a>ã€‚è¿™äº›è¾ƒä½çº§åˆ«çš„ API ä¿è¯ä»¥è¾ƒä½çš„åŠŸè€—å®ç°é«˜æ€§èƒ½ï¼Œä½†æ˜¯è¦ä»¥è‡ªå·±ç®¡ç†ç¼“å†²åŒºä¸ºä»£ä»·ã€‚ä»¥ä¸‹æ˜¯ <a href="https://gist.github.com/Nyx0uf/217d97f81f4889f4445a">GitHub ä¸Š Nyx0uf æä¾›</a>çš„ Swift ç‰ˆæœ¬çš„æ–¹æ³•ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cgImage = <span class="type">UIImage</span>(contentsOfFile: <span class="keyword">self</span>.<span class="type">URL</span>.absoluteString!).<span class="type">CGImage</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// create a source buffer</span></span><br><span class="line"><span class="keyword">var</span> format = vImage_CGImageFormat(bitsPerComponent: <span class="number">8</span>, bitsPerPixel: <span class="number">32</span>, colorSpace: <span class="literal">nil</span>,</span><br><span class="line">    bitmapInfo: <span class="type">CGBitmapInfo</span>(rawValue: <span class="type">CGImageAlphaInfo</span>.<span class="type">First</span>.rawValue),</span><br><span class="line">    version: <span class="number">0</span>, decode: <span class="literal">nil</span>, renderingIntent: <span class="type">CGColorRenderingIntent</span>.<span class="type">RenderingIntentDefault</span>)</span><br><span class="line"><span class="keyword">var</span> sourceBuffer = vImage_Buffer()</span><br><span class="line"><span class="keyword">defer</span> &#123;</span><br><span class="line">    sourceBuffer.data.dealloc(<span class="type">Int</span>(sourceBuffer.height) * <span class="type">Int</span>(sourceBuffer.height) * <span class="number">4</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> error = vImageBuffer_InitWithCGImage(&amp;sourceBuffer, &amp;format, <span class="literal">nil</span>, cgImage, <span class="built_in">numericCast</span>(kvImageNoFlags))</span><br><span class="line"><span class="keyword">guard</span> error == kvImageNoError <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// create a destination buffer</span></span><br><span class="line"><span class="keyword">let</span> scale = <span class="type">UIScreen</span>.mainScreen().scale</span><br><span class="line"><span class="keyword">let</span> destWidth = <span class="type">Int</span>(image.size.width * <span class="number">0.5</span> * scale)</span><br><span class="line"><span class="keyword">let</span> destHeight = <span class="type">Int</span>(image.size.height * <span class="number">0.5</span> * scale)</span><br><span class="line"><span class="keyword">let</span> bytesPerPixel = <span class="type">CGImageGetBitsPerPixel</span>(image.<span class="type">CGImage</span>) / <span class="number">8</span></span><br><span class="line"><span class="keyword">let</span> destBytesPerRow = destWidth * bytesPerPixel</span><br><span class="line"><span class="keyword">let</span> destData = <span class="type">UnsafeMutablePointer</span>&lt;<span class="type">UInt8</span>&gt;.alloc(destHeight * destBytesPerRow)</span><br><span class="line"><span class="keyword">defer</span> &#123;</span><br><span class="line">    destData.dealloc(destHeight * destBytesPerRow)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> destBuffer = vImage_Buffer(data: destData, height: vImagePixelCount(destHeight), width: vImagePixelCount(destWidth), rowBytes: destBytesPerRow)</span><br><span class="line"></span><br><span class="line"><span class="comment">// scale the image</span></span><br><span class="line">error = vImageScale_ARGB8888(&amp;sourceBuffer, &amp;destBuffer, <span class="literal">nil</span>, <span class="built_in">numericCast</span>(kvImageHighQualityResampling))</span><br><span class="line"><span class="keyword">guard</span> error == kvImageNoError <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// create a CGImage from vImage_Buffer</span></span><br><span class="line"><span class="keyword">let</span> destCGImage = vImageCreateCGImageFromBuffer(&amp;destBuffer, &amp;format, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="built_in">numericCast</span>(kvImageNoFlags), &amp;error)?.takeRetainedValue()</span><br><span class="line"><span class="keyword">guard</span> error == kvImageNoError <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// create a UIImage</span></span><br><span class="line"><span class="keyword">let</span> scaledImage = destCGImage.flatMap &#123; <span class="type">UIImage</span>(<span class="type">CGImage</span>: $<span class="number">0</span>, scale: <span class="number">0.0</span>, orientation: image.imageOrientation) &#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨çš„ Accelerate API æ˜æ˜¾æ¯”å…¶ä»–è°ƒæ•´å¤§å°çš„æ–¹æ³•åœ¨æ›´ä½çš„å±‚æ¬¡ä¸Šè¿è¡Œã€‚è¦ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œ<br>é¦–å…ˆé€šè¿‡ <code>vImageBuffer_InitWithCGImage()</code> ç”¨ <code>vImage_CGImageFormat</code> ä»ä½ çš„ CGImage ä¸­åˆ›å»ºæºç¼“å­˜åŒºã€‚ç›®æ ‡ç¼“å†²åŒºä»¥æ‰€éœ€çš„å›¾åƒåˆ†è¾¨ç‡è¿›è¡Œåˆ†é…ï¼Œç„¶å <code>vImageScale_ARGB8888</code> å®Œæˆè°ƒæ•´å›¾åƒå¤§å°çš„å®é™…å·¥ä½œã€‚å½“å¯¹å¤§äºåº”ç”¨ç¨‹åºå†…å­˜é™åˆ¶çš„å›¾åƒè¿›è¡Œæ“ä½œæ—¶éœ€è¦ç®¡ç†è‡ªå·±çš„ç¼“å†²åŒºï¼Œè¿™æ˜¯ç•™ç»™è¯»è€…çš„ä¸€ä¸ªç»ƒä¹ ã€‚</p>
<h2 id="æ€§èƒ½åŸºå‡†"><a href="#æ€§èƒ½åŸºå‡†" class="headerlink" title="æ€§èƒ½åŸºå‡†"></a>æ€§èƒ½åŸºå‡†</h2><p>é‚£ä¹ˆè¿™äº›å„ç§æ–¹æ³•å¦‚ä½•ç›¸äº’å åŠ å‘¢ï¼Ÿ</p>
<p>ä»¥ä¸‹æ˜¯é€šè¿‡<a href="https://github.com/natecook1000/Image-Resizing">æ­¤é¡¹ç›®</a>åœ¨è¿è¡Œ iOS 8.4 çš„ iPhone 6 ä¸Šå®Œæˆçš„ä¸€ç»„<a href="http://nshipster.com/benchmarking/">æ€§èƒ½åŸºå‡†</a>çš„ç»“æœï¼š</p>
<h3 id="JPEG"><a href="#JPEG" class="headerlink" title="JPEG"></a>JPEG</h3><p>åŠ è½½ï¼Œç¼©æ”¾å’Œæ˜¾ç¤ºæ¥è‡ª<a href="http://visibleearth.nasa.gov/view.php?id=78314">ç¾å›½å®‡èˆªå±€ Visible Earth</a> çš„å¤§å°ºå¯¸é«˜åˆ†è¾¨ç‡ï¼ˆ12000 â¨‰ 12000 px 20 MB JPEGï¼‰æºå›¾åƒåœ¨ 1/10 çš„å¤§å°ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">Operation</th>
<th style="text-align:center">Time (sec)</th>
<th style="text-align:center">Ïƒ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">UIKit</td>
<td style="text-align:center">0.612</td>
<td style="text-align:center">14%</td>
</tr>
<tr>
<td style="text-align:center">Core Graphics<sup>1</sup></td>
<td style="text-align:center">0.266</td>
<td style="text-align:center">3%</td>
</tr>
<tr>
<td style="text-align:center">Image I/O</td>
<td style="text-align:center">0.255</td>
<td style="text-align:center">2%</td>
</tr>
<tr>
<td style="text-align:center">Core Image<sup>2</sup></td>
<td style="text-align:center">3.703</td>
<td style="text-align:center">33%</td>
</tr>
<tr>
<td style="text-align:center">vImage<sup>3</sup></td>
<td style="text-align:center">â€“</td>
<td style="text-align:center">â€“</td>
</tr>
</tbody>
</table>
<h3 id="PNG"><a href="#PNG" class="headerlink" title="PNG"></a>PNG</h3><p>åŠ è½½ã€ç¼©æ”¾å’Œæ˜¾ç¤ºä¸€ä¸ªç›¸å½“å¤§çš„ï¼ˆ1024 â¨‰ 1024 px 1MB PNGï¼‰æ¸²æŸ“çš„ <a href="http://postgresapp.com/">Postgres.app</a> å›¾æ ‡åœ¨ 1/10 çš„å¤§å°ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">Operation</th>
<th style="text-align:center">Time (sec)</th>
<th style="text-align:center">Ïƒ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">UIKit</td>
<td style="text-align:center">0.044</td>
<td style="text-align:center">30%</td>
</tr>
<tr>
<td style="text-align:center">Core Graphics<sup>4</sup></td>
<td style="text-align:center">0.036</td>
<td style="text-align:center">10%</td>
</tr>
<tr>
<td style="text-align:center">Image I/O</td>
<td style="text-align:center">0.038</td>
<td style="text-align:center">11%</td>
</tr>
<tr>
<td style="text-align:center">Core Image<sup>5</sup></td>
<td style="text-align:center">0.053</td>
<td style="text-align:center">68%</td>
</tr>
<tr>
<td style="text-align:center">vImage</td>
<td style="text-align:center">0.050</td>
<td style="text-align:center">25%</td>
</tr>
</tbody>
</table>
<p><sup>1</sup>, <sup>4</sup> ç»“æœåœ¨ä¸åŒçš„ <code>CGInterpolationQuality</code> å€¼ä¸Šæ˜¯ä¸€è‡´çš„ï¼Œåœ¨æ€§èƒ½åŸºå‡†ä¸Šå·®å¼‚å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>
<p><sup>3</sup> ç¾å›½å®‡èˆªå±€ Visible Earth å›¾åƒçš„å¤§å°å¤§äºè®¾å¤‡ä¸€æ¬¡èƒ½å¤Ÿå¤„ç†çš„å¤§å°ã€‚</p>
<p><sup>2</sup>, <sup>5</sup> åœ¨ <code>CIContext</code> åˆ›å»ºæ—¶æ‰€ä¼ çš„é€‰é¡¹ä¸­è®¾ç½® <code>kCIContextUseSoftwareRenderer</code> ä¸º true ä¼šäº§ç”Ÿæ¯”åŸºç¡€ç»“æœæ…¢ä¸€ä¸ªæ•°é‡çº§çš„ç»“æœã€‚</p>
<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><ul>
<li><strong>UIKit</strong>ï¼Œ<strong>Core Graphics</strong>ï¼Œå’Œ <strong>Image I/O</strong> åœ¨å¤§å¤šæ•°å›¾åƒä¸Šéƒ½å¯ä»¥å¾ˆå¥½åœ°è¿›è¡Œç¼©æ”¾æ“ä½œã€‚</li>
<li><strong>Core Image</strong> åœ¨å›¾åƒç¼©æ”¾æ“ä½œæ–¹é¢è¡¨ç°ä¼˜å¼‚ã€‚å®é™…ä¸Šï¼Œ<a href="https://developer.apple.com/library/mac/documentation/graphicsimaging/Conceptual/CoreImaging/ci_performance/ci_performance.html#//apple_ref/doc/uid/TP30001185-CH10-SW1">Core Image ç¼–ç¨‹æŒ‡å—çš„æ€§èƒ½æœ€ä½³å®è·µç« èŠ‚</a>ç‰¹åˆ«æ¨èä½¿ç”¨ Core Graphics æˆ–è€… Image I/O å‡½æ•°é¢„å…ˆè£å‰ªæˆ–è€…é™ä½é‡‡æ ·å›¾åƒã€‚</li>
<li>å¯¹äºä¸€èˆ¬çš„æ²¡æœ‰ä»»ä½•é¢å¤–åŠŸèƒ½çš„å›¾åƒç¼©æ”¾ï¼Œ<strong>UIGraphicsBeginImageContextWithOptions</strong> å¯èƒ½æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</li>
<li>å¦‚æœéœ€è¦è€ƒè™‘å›¾åƒè´¨é‡ï¼Œè€ƒè™‘ä½¿ç”¨ <strong>CGBitmapContextCreate</strong> ç»“åˆ <strong>CGContextSetInterpolationQuality</strong>ã€‚</li>
<li>å½“ç¼©æ”¾å›¾åƒçš„ç›®çš„æ˜¯æ˜¾ç¤ºç¼©ç•¥å›¾æ—¶ï¼Œ<strong>CGImageSourceCreateThumbnailAtIndex</strong> ä¸ºæ¸²æŸ“å’Œç¼“å­˜æä¾›äº†ä¸€ä¸ªå¼•äººæ³¨ç›®çš„è§£å†³æ–¹æ¡ˆã€‚</li>
<li>é™¤éä½ å·²ç»åœ¨ä½¿ç”¨ <strong>vImage</strong>ï¼Œå¦åˆ™ä½¿ç”¨ä½çº§ Accelerate æ¡†æ¶è¿›è¡Œå¤§å°è°ƒæ•´çš„é¢å¤–å·¥ä½œå¹¶ä¸å€¼å¾—ã€‚</li>
</ul>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yangcaimu.github.io/2017/12/04/Image-Resizing-Techniques/" data-id="cjaqz8rmw000bmtuzrb3xihfn" class="article-share-link">åˆ†äº«åˆ°</a><div class="tags"><a href="/tags/iOS/">iOS</a><a href="/tags/ç¿»è¯‘/">ç¿»è¯‘</a></div><div class="post-nav"><a href="/2017/10/22/è¯»-SDWebImage-æºç å°è®°/" class="next">è¯» SDWebImage æºç å°è®°</a></div><div id="disqus_thread"><script>var disqus_shortname = 'yangcaimu-blog';
var disqus_identifier = '2017/12/04/Image-Resizing-Techniques/';
var disqus_title = 'è¯‘ Image Resizing Techniques';
var disqus_url = 'http://yangcaimu.github.io/2017/12/04/Image-Resizing-Techniques/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//yangcaimu-blog.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yangcaimu.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/æºç è§£æ/" style="font-size: 15px;">æºç è§£æ</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/Skills/" style="font-size: 15px;">Skills</a> <a href="/tags/Windows/" style="font-size: 15px;">Windows</a> <a href="/tags/Alfred/" style="font-size: 15px;">Alfred</a> <a href="/tags/Workflow/" style="font-size: 15px;">Workflow</a> <a href="/tags/Xcode/" style="font-size: 15px;">Xcode</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Constraint/" style="font-size: 15px;">Constraint</a> <a href="/tags/å†™ä½œ/" style="font-size: 15px;">å†™ä½œ</a> <a href="/tags/SDWebImage/" style="font-size: 15px;">SDWebImage</a> <a href="/tags/Octopress/" style="font-size: 15px;">Octopress</a> <a href="/tags/ç¿»è¯‘/" style="font-size: 15px;">ç¿»è¯‘</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€æ–°æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/12/04/Image-Resizing-Techniques/">è¯‘ Image Resizing Techniques</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/22/è¯»-SDWebImage-æºç å°è®°/">è¯» SDWebImage æºç å°è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/05/æ·»åŠ çº¦æŸçš„æ°å½“æ—¶æœº/">æ·»åŠ çº¦æŸçš„æ°å½“æ—¶æœº</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/12/å†™ä½œæœ¬èº«çš„ä¸€äº›å‚è€ƒèµ„æ–™/">å†™ä½œæœ¬èº«çš„ä¸€äº›å‚è€ƒèµ„æ–™</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/09/Alfred-workflow-å¿«é€Ÿæ‰“å¼€-Xcode-å·¥ç¨‹/">Alfred workflow: å¿«é€Ÿæ‰“å¼€ Xcode å·¥ç¨‹</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/05/25/windowshiyongjiqiao/">Windows ä½¿ç”¨æŠ€å·§</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/05/24/macshiyongjiqiao/">Mac ä½¿ç”¨æŠ€å·§</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/04/25/dajianblogzhilu/">æ­å»º Blog ä¹‹æ—…</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Â© <a href="/." rel="nofollow">Lavare.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-51815558-1','auto');ga('send','pageview');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?f2332cdab78cfdaaf85ad19f83bb65b1";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>